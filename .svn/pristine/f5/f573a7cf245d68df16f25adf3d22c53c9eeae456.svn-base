/**
 * Created by king on 2017/3/7.
 */
 var util= {
    // è·å–æŒ‡å®šçš„æŸ¥è¯¢å­—ç¬¦ä¸²AAA
    getQueryString: function (key) {

        // å»æ‰å­—ç¬¦ä¸²é¦–å­—æ¯?å?
        var search = location.search.slice(1);

        // ä½¿ç”¨&ç¬¦å·å¾—åˆ°æ¯ä¸€ä¸ªkey=val
        var searchArr = search.split('&');
        var tempArr = null;
        var searchObj = {};

        // éå†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªkey=valå­—ç¬¦ä¸²ï¼Œä½¿ç”¨=å·åŠˆå¼?ï¼?
        // ç„¶åä»¥keyä¸ºåï¼Œvalä¸ºå?¼æ·»åŠ åˆ°searchObjå¯¹è±¡ä¸­ã??
        for (var i = 0, len = searchArr.length; i < len; i++) {
            tempArr = searchArr[i].split('=');
            searchObj[tempArr[0]] = tempArr[1];
        }

        // æœ‰å‚æ•°è¿”å›æŒ‡å®šå?¼ï¼Œæ²¡æœ‰å‚æ•°è¿”å›å…¨éƒ¨å€?
        return arguments.length ? searchObj[key] : searchObj;
        //return searchObj;
    },

    extend: function () {

    },
    tap: function (dom, callback) {
        /*åˆ¤æ–­æœ‰æ²¡æœ‰ä¼ å…¥domå¯¹è±¡*/
        if (!dom || typeof dom != "object") {
            return;
        }
        /*ç§»åŠ¨ç«¯çš„å•å‡»äº‹ä»¶ä¸?èˆ¬ä½¿ç”¨touchæ¥æ¨¡æ‹Ÿï¼Œå®ƒä¸€èˆ¬éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»?
         * 1.ä¸èƒ½æ»‘åŠ¨è¿?
         * 2.endå’ŒStartçš„æ—¶é—´å·®å¼‚ä¸€èˆ¬åº”è¯¥åœ¨150msä»¥å†…ï¼Œå¦‚æœå·®å¼‚å¤ªå¤§ï¼Œå°±åº”è¯¥æ˜¯longpressé•¿æŒ‰äº‹ä»¶*/
        /*æ ‡è®°æ˜¯å¦æ›¾ç»æ»‘åŠ¨è¿?*/
        var isMove = false;
        /*è®°å½•æ‰‹æŒ‡æŒ‰ä¸‹çš„æ—¶é—?*/
        var st = 0;
        dom.addEventListener("touchstart", function (e) {
            /*Date.now()ï¼šå®ƒè·å–çš„æ˜¯æ¯«ç§’æ•?*/
            st = Date.now();
        })
        dom.addEventListener("touchmove", function (e) {
            isMove = true;
        })
        dom.addEventListener("touchend", function (e) {
            var et = Date.now();
            /*åˆ¤æ–­æœ¬æ¬¡æ“ä½œæ˜¯å¦æ˜¯å•å‡»äº‹ä»?*/
            if (isMove == false && et - st < 150) {
                callback && callback(e);
            }
            /*é‡ç½®*/
            isMove = false;
        });
    },
    addAnimationEnd: function (dom, callback) {
        dom.addEventListener("webkitAnimationEnd", function () {
            callback && callback();
        });
        dom.addEventListener("animationEnd", function () {
            callback && callback();
        });
        dom.addEventListener("oAnimationEnd", function () {
            callback && callback();
        });
        dom.addEventListener("msAnimationEnd", function () {
            callback && callback();
        });
        dom.addEventListener("mozAnimationEnd", function () {
            callback && callback();
        });
    }
}

